{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/reservation.service\";\nimport * as i2 from \"@angular/router\";\nexport class ReservationComponent {\n  setChangeStatut(indexx, status) {\n    if (status == 'Inactif') {\n      this.reservations[indexx]['statutReservation'] = true;\n    } else if (status == 'Actif') {\n      this.reservations[indexx]['statutReservation'] = false;\n    }\n    console.log(this.reservations[indexx]['statutReservation']);\n  }\n  constructor(reservationService, router) {\n    this.reservationService = reservationService;\n    this.router = router;\n    this.reservations = [];\n  }\n  ngOnInit() {\n    this.getReservationsList();\n  }\n  getReservationsList() {\n    this.reservationService.getReservationsList().subscribe(reservations => {\n      this.reservations = reservations;\n    }, error => {\n      console.error(error);\n    });\n  }\n  modifierReservation(reservation) {\n    this.router.navigate(['/modifier-reservation', reservation.id]);\n  }\n  deleteReservation(reservationId) {\n    this.reservationService.deleteReservation(reservationId).subscribe(() => {\n      // Suppression réussie, mettre à jour la liste des reservations\n      this.getReservationsList();\n    }, error => {\n      console.error(error);\n    });\n  }\n}\nReservationComponent.ɵfac = function ReservationComponent_Factory(t) {\n  return new (t || ReservationComponent)(i0.ɵɵdirectiveInject(i1.ReservationService), i0.ɵɵdirectiveInject(i2.Router));\n};\nReservationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ReservationComponent,\n  selectors: [[\"app-reservation\"]],\n  decls: 45,\n  vars: 0,\n  consts: [[1, \"col-lg-15\", \"grid-margin\", \"stretch-card\"], [1, \"card\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"table-responsive\"], [1, \"table\", \"table-hover\"], [1, \"text-danger\"], [1, \"badge\", \"badge-danger\"], [1, \"badge\", \"badge-success\", 3, \"click\"], [1, \"badge\", \"badge-danger\", 3, \"click\"], [1, \"badge\", \"badge-warning\"]],\n  template: function ReservationComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h4\", 3);\n      i0.ɵɵtext(4, \"R\\u00E9servations\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 4)(6, \"table\", 5)(7, \"thead\")(8, \"tr\")(9, \"th\");\n      i0.ɵɵtext(10, \"Utilisateur\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"th\");\n      i0.ɵɵtext(12, \"Voiture\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\");\n      i0.ɵɵtext(14, \"Date r\\u00E9servation\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"th\");\n      i0.ɵɵtext(16, \"Status\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"th\");\n      i0.ɵɵtext(18, \"Action\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(19, \"tbody\")(20, \"tr\")(21, \"td\");\n      i0.ɵɵtext(22, \"Jacob\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"td\");\n      i0.ɵɵtext(24, \"Toyota - Venza\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"td\", 6);\n      i0.ɵɵtext(26, \" 27 jul 2023\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"td\")(28, \"label\", 7);\n      i0.ɵɵtext(29, \"En attente\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(30, \"td\")(31, \"button\", 8);\n      i0.ɵɵlistener(\"click\", function ReservationComponent_Template_button_click_31_listener() {\n        return ctx.setChangeStatut(ctx.i, ctx.reservation.statut);\n      });\n      i0.ɵɵtext(32, \"Accpeter\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function ReservationComponent_Template_button_click_33_listener() {\n        return ctx.setChangeStatut(ctx.i, ctx.reservation.statut);\n      });\n      i0.ɵɵtext(34, \"Refuser\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(35, \"tr\")(36, \"td\");\n      i0.ɵɵtext(37, \"Messsy\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"td\");\n      i0.ɵɵtext(39, \"McLauren\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(40, \"td\", 6);\n      i0.ɵɵtext(41, \" 01 aou. 2023\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(42, \"td\")(43, \"label\", 10);\n      i0.ɵɵtext(44, \"Valid\\u00E9\");\n      i0.ɵɵelementEnd()()()()()()()()();\n    }\n  },\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["ReservationComponent","setChangeStatut","indexx","status","reservations","console","log","constructor","reservationService","router","ngOnInit","getReservationsList","subscribe","error","modifierReservation","reservation","navigate","id","deleteReservation","reservationId","i0","ɵɵdirectiveInject","i1","ReservationService","i2","Router","selectors","decls","vars","consts","template","ReservationComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","ReservationComponent_Template_button_click_31_listener","i","statut","ReservationComponent_Template_button_click_33_listener"],"sources":["D:\\FrontEndLocationDeVoiture\\frontLocationVoiture_Components\\src\\app\\components\\reservation\\reservation.component.ts","D:\\FrontEndLocationDeVoiture\\frontLocationVoiture_Components\\src\\app\\components\\reservation\\reservation.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Reservation } from 'src/app/models/reservation';\nimport { ReservationService } from 'src/app/services/reservation.service';\n\n@Component({\n  selector: 'app-reservation',\n  templateUrl: './reservation.component.html',\n  styleUrls: ['./reservation.component.css']\n})\nexport class ReservationComponent {\n\n  setChangeStatut(indexx: number,status:string){\n    if(status=='Inactif'){\n      this.reservations[indexx]['statutReservation']=true;\n    }\n    else if(status=='Actif'){\n      this.reservations[indexx]['statutReservation']=false;\n    }\n    console.log( this.reservations[indexx]['statutReservation']);\n  }\n  \n\n  reservations: Reservation[] = [];\n\n  constructor(private reservationService: ReservationService, private router: Router) { }\n\n  ngOnInit(): void {\n    this.getReservationsList();\n  }\n\n  getReservationsList(): void {\n    this.reservationService.getReservationsList().subscribe(\n      reservations => {\n        this.reservations = reservations;\n      },\n      error => {\n        console.error(error);\n      }\n    );\n  }\n\n  modifierReservation(reservation: Reservation): void {\n    this.router.navigate(['/modifier-reservation', reservation.id]);\n  }\n\n  deleteReservation(reservationId: number): void {\n    this.reservationService.deleteReservation(reservationId).subscribe(\n      () => {\n        // Suppression réussie, mettre à jour la liste des reservations\n        this.getReservationsList();\n      },\n      error => {\n        console.error(error);\n      }\n    );\n  }\n}\n\n","<div class=\"col-lg-15 grid-margin stretch-card\">\n    <div class=\"card\">\n      <div class=\"card-body\">\n        <h4 class=\"card-title\">Réservations</h4>\n        \n        <div class=\"table-responsive\">\n          <table class=\"table table-hover\">\n            <thead>\n              <tr>\n                <th>Utilisateur</th>\n                <th>Voiture</th>\n                <th>Date réservation</th>\n                <th>Status</th>\n                <th>Action</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>Jacob</td>\n                <td>Toyota - Venza</td>\n                <td class=\"text-danger\"> 27 jul 2023</td>\n                <td><label class=\"badge badge-danger\">En attente</label></td>\n                <td>\n                    <button class=\"badge badge-success\" (click)=\"setChangeStatut(i,reservation.statut)\">Accpeter</button>\n                    <button class=\"badge badge-danger\"(click)=\"setChangeStatut(i,reservation.statut)\">Refuser</button>\n                </td>\n              </tr>\n              <tr>\n                <td>Messsy</td>\n                <td>McLauren</td>\n                <td class=\"text-danger\"> 01 aou. 2023</td>\n                <td><label class=\"badge badge-warning\">Validé</label></td>\n              </tr>\n              \n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}