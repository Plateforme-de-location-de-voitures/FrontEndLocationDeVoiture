{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/reservation.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction ReservationComponent_td_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\")(1, \"label\", 10);\n    i0.ɵɵtext(2, \"En attente\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ReservationComponent_td_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\")(1, \"label\", 10);\n    i0.ɵɵtext(2, \"Refuser\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ReservationComponent_td_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\")(1, \"label\", 11);\n    i0.ɵɵtext(2, \"Valid\\u00E9\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class ReservationComponent {\n  setChangeStatut(status) {\n    if (status == true) {\n      this.etat = true;\n    } else if (status == false) {\n      this.etat = false;\n    }\n  }\n  constructor(reservationService, router) {\n    this.reservationService = reservationService;\n    this.router = router;\n    this.etat = true;\n    this.reservations = [];\n  }\n  ngOnInit() {\n    this.getReservationsList();\n  }\n  getReservationsList() {\n    this.reservationService.getReservationsList().subscribe(reservations => {\n      this.reservations = reservations;\n    }, error => {\n      console.error(error);\n    });\n  }\n  modifierReservation(reservation) {\n    this.router.navigate(['/modifier-reservation', reservation.id]);\n  }\n  deleteReservation(reservationId) {\n    this.reservationService.deleteReservation(reservationId).subscribe(() => {\n      // Suppression réussie, mettre à jour la liste des reservations\n      this.getReservationsList();\n    }, error => {\n      console.error(error);\n    });\n  }\n}\nReservationComponent.ɵfac = function ReservationComponent_Factory(t) {\n  return new (t || ReservationComponent)(i0.ɵɵdirectiveInject(i1.ReservationService), i0.ɵɵdirectiveInject(i2.Router));\n};\nReservationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ReservationComponent,\n  selectors: [[\"app-reservation\"]],\n  decls: 35,\n  vars: 3,\n  consts: [[1, \"col-lg-15\", \"grid-margin\", \"stretch-card\"], [1, \"card\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"table-responsive\"], [1, \"table\", \"table-hover\"], [1, \"text-danger\"], [4, \"ngIf\"], [1, \"badge\", \"badge-success\", 3, \"click\"], [1, \"badge\", \"badge-danger\", 3, \"click\"], [1, \"badge\", \"badge-danger\"], [1, \"badge\", \"badge-success\"]],\n  template: function ReservationComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h4\", 3);\n      i0.ɵɵtext(4, \"R\\u00E9servations\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 4)(6, \"table\", 5)(7, \"thead\")(8, \"tr\")(9, \"th\");\n      i0.ɵɵtext(10, \"Utilisateur\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"th\");\n      i0.ɵɵtext(12, \"Voiture\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\");\n      i0.ɵɵtext(14, \"Date r\\u00E9servation\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"th\");\n      i0.ɵɵtext(16, \"Status\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"th\");\n      i0.ɵɵtext(18, \"Action\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(19, \"tbody\")(20, \"tr\")(21, \"td\");\n      i0.ɵɵtext(22, \"Jacob\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"td\");\n      i0.ɵɵtext(24, \"Toyota - Venza\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"td\", 6);\n      i0.ɵɵtext(26, \" 27 jul 2023\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(27, ReservationComponent_td_27_Template, 3, 0, \"td\", 7);\n      i0.ɵɵtemplate(28, ReservationComponent_td_28_Template, 3, 0, \"td\", 7);\n      i0.ɵɵtemplate(29, ReservationComponent_td_29_Template, 3, 0, \"td\", 7);\n      i0.ɵɵelementStart(30, \"td\")(31, \"button\", 8);\n      i0.ɵɵlistener(\"click\", function ReservationComponent_Template_button_click_31_listener() {\n        return ctx.setChangeStatut(true);\n      });\n      i0.ɵɵtext(32, \"Accpeter\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function ReservationComponent_Template_button_click_33_listener() {\n        return ctx.setChangeStatut(false);\n      });\n      i0.ɵɵtext(34, \"Refuser\");\n      i0.ɵɵelementEnd()()()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(27);\n      i0.ɵɵproperty(\"ngIf\", ctx.etat == null);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.etat == false);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.etat == true);\n    }\n  },\n  dependencies: [i3.NgIf],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ReservationComponent","setChangeStatut","status","etat","constructor","reservationService","router","reservations","ngOnInit","getReservationsList","subscribe","error","console","modifierReservation","reservation","navigate","id","deleteReservation","reservationId","ɵɵdirectiveInject","i1","ReservationService","i2","Router","selectors","decls","vars","consts","template","ReservationComponent_Template","rf","ctx","ɵɵtemplate","ReservationComponent_td_27_Template","ReservationComponent_td_28_Template","ReservationComponent_td_29_Template","ɵɵlistener","ReservationComponent_Template_button_click_31_listener","ReservationComponent_Template_button_click_33_listener","ɵɵadvance","ɵɵproperty"],"sources":["D:\\FrontEndLocationDeVoiture\\frontLocationVoiture_Components\\src\\app\\components\\reservation\\reservation.component.ts","D:\\FrontEndLocationDeVoiture\\frontLocationVoiture_Components\\src\\app\\components\\reservation\\reservation.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Reservation } from 'src/app/models/reservation';\nimport { ReservationService } from 'src/app/services/reservation.service';\n\n@Component({\n  selector: 'app-reservation',\n  templateUrl: './reservation.component.html',\n  styleUrls: ['./reservation.component.css']\n})\nexport class ReservationComponent {\n\n  etat = true;\n  setChangeStatut(status:boolean){\n    if(status==true){\n      this.etat = true;\n    }\n    else if(status==false){\n      this.etat = false;\n    }\n  }\n  \n\n  reservations: Reservation[] = [];\n\n  constructor(private reservationService: ReservationService, private router: Router) { }\n\n  ngOnInit(): void {\n    this.getReservationsList();\n  }\n\n  getReservationsList(): void {\n    this.reservationService.getReservationsList().subscribe(\n      reservations => {\n        this.reservations = reservations;\n      },\n      error => {\n        console.error(error);\n      }\n    );\n  }\n\n  modifierReservation(reservation: Reservation): void {\n    this.router.navigate(['/modifier-reservation', reservation.id]);\n  }\n\n  deleteReservation(reservationId: number): void {\n    this.reservationService.deleteReservation(reservationId).subscribe(\n      () => {\n        // Suppression réussie, mettre à jour la liste des reservations\n        this.getReservationsList();\n      },\n      error => {\n        console.error(error);\n      }\n    );\n  }\n}\n\n","<div class=\"col-lg-15 grid-margin stretch-card\">\n    <div class=\"card\">\n      <div class=\"card-body\">\n        <h4 class=\"card-title\">Réservations</h4>\n        \n        <div class=\"table-responsive\">\n          <table class=\"table table-hover\">\n            <thead>\n              <tr>\n                <th>Utilisateur</th>\n                <th>Voiture</th>\n                <th>Date réservation</th>\n                <th>Status</th>\n                <th>Action</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>Jacob</td>\n                <td>Toyota - Venza</td>\n                <td class=\"text-danger\"> 27 jul 2023</td>\n                <td *ngIf=\"etat==null\"><label class=\"badge badge-danger\">En attente</label></td>\n                <td *ngIf=\"etat==false\"><label class=\"badge badge-danger\">Refuser</label></td>\n                <td *ngIf=\"etat==true\"><label class=\"badge badge-success\">Validé</label></td>\n                <td>\n                    <button class=\"badge badge-success\" (click)=\"setChangeStatut(true)\">Accpeter</button>\n                    <button class=\"badge badge-danger\"(click)=\"setChangeStatut(false)\">Refuser</button>\n                </td>\n              </tr>\n             \n              \n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}